!function(){"use strict";if(document.body.dataset.gcrt)return console.info("ðŸ§° GitHub CR Toolbox already installed");document.body.setAttribute("data-gcrt",!0);const t=document.createElement("style");t.setAttribute("data-gcrt",!0),t.innerText="details[data-gcrt]{--border:1px solid var(--color-border-primary);background:var(--color-bg-primary);bottom:0;box-shadow:0 0 8px hsla(0,0%,0%,0.2);left:0;position:fixed;right:0;z-index:10000}details[data-gcrt]>*{padding:8px}details[data-gcrt] summary{background-color:var(--color-bg-secondary);border-bottom:var(--border);border-top:var(--border)}details[data-gcrt] footer{border-top:var(--border);text-align:center}",document.head.appendChild(t);const e=document.createElement("details");e.setAttribute("data-gcrt",!0),document.body.appendChild(e);const n=document.createElement("summary");n.textContent="ðŸ§° GitHub CR Toolbox",e.appendChild(n);const o=document.createElement("div");e.appendChild(o);const r=document.createElement("button");r.classList.add("btn"),r.textContent="Collapse all files",o.appendChild(r),r.addEventListener("click",(t=>{t.preventDefault(),document.querySelectorAll(".file.open").forEach((t=>{const e=t.querySelector(".file-info button");e?e.click():console.log(e)}))}));const a=document.createElement("button");a.classList.add("btn"),a.textContent="Expand all files",o.appendChild(a),a.addEventListener("click",(t=>{t.preventDefault(),document.querySelectorAll(".file:not(.open)").forEach((t=>{const e=t.querySelector(".file-info button");e?e.click():console.log(e)}))}));const c=document.createElement("form");c.innerHTML='\n  \t<input class="form-control" name="string" />\n    <button class="btn">Collapse all</button>\n  ',c.addEventListener("submit",(t=>{t.preventDefault();const e=new FormData(t.target).get("string");[...document.querySelectorAll(".file.open")].filter((t=>t.querySelector(`.file-header[data-path*=${e}]`))).forEach((t=>{const e=t.querySelector(".file-info button");e&&e.click()}))})),o.appendChild(c);const l=document.createElement("form");l.innerHTML='\n  \t<input class="form-control" name="string" />\n    <button class="btn">View all</button>\n  ',l.addEventListener("submit",(t=>{t.preventDefault();const e=new FormData(t.target).get("string");[...document.querySelectorAll(".file")].filter((t=>t.querySelector(`.file-header[data-path*=${e}]`))).forEach((t=>{const e=t.querySelector("input[type=checkbox][name=viewed]:not([checked])");e&&e.click()}))})),o.appendChild(l);const d=document.createElement("label"),i=document.createTextNode("Highlight token");d.appendChild(i);const s=document.createElement("input");s.type="checkbox",d.appendChild(s);const u=document.createElement("style");u.dataset.gcrt="highlight-style",document.head.appendChild(u),u.innerHTML='\n    [data-gcrt="highlighted"] {\n      background-color: rgba(255, 255, 0, 50%);\n      font-weight: 900;\n    }\n  ';const m=[];function p(t){const{target:e}=t;if("highlighted"===e.dataset.gcrt)return m.forEach((t=>{t.classList.toString()===e.classList.toString()&&t.textContent===e.textContent&&t.removeAttribute("data-gcrt")}));if(!e.classList.contains("blob-code-inner")&&!e.parentNode.classList.contains("blob-code-inner"))return;const n="."+e.classList[0];document.querySelectorAll(n).forEach((t=>{t.textContent===e.textContent&&(t.dataset.gcrt="highlighted",m.push(t))}))}s.addEventListener("change",(t=>{t.preventDefault(),t.target.checked?window.addEventListener("click",p):window.removeEventListener("click",p)})),o.appendChild(d);const h=document.createElement("footer");h.innerHTML="<small>Hacked together at <a href='https://niche.com' target='_blank'>Niche</a>'s Learn Over Lunch ðŸ¥ª</small>",e.appendChild(h)}();